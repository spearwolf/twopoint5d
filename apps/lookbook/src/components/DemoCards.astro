---
import {loadMetadataForDemos} from '~demos/utils/loadMetadataForDemos.js';
import Card from './Card.astro';
import LookbookHeader from './LookbookHeader.astro';
import TagCloudFilter from './TagCloudFilter.astro';

const {demos} = loadMetadataForDemos();
---

<main>
  <LookbookHeader />

  <TagCloudFilter />

  <ul role="list" class="demo-card-grid">
    {
      demos.map(({id, title, description, href, previewImage, tags}) => (
        <Card id={id} href={href} title={title} body={description} image={previewImage} tags={tags} />
      ))
    }
  </ul>
</main>

<style>
  main {
    margin: auto auto 3rem;
    padding: 80px 1.5rem 1.5rem;
    max-width: 120ch;
  }

  .demo-card-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(32ch, 0.5fr));
    gap: 1.5rem;
    margin-top: 33px;
    padding: 0;
  }

  @media (orientation: portrait) {
    .demo-card-grid {
      grid-template-columns: repeat(auto-fit, minmax(32ch, 1fr));
    }
  }
</style>
